<c-col xs="12">

    <!-- menambahkan button add nasabah -->
    <div class="mb-4" style="text-align:right; margin:15px 15px 0px 15px;">
        <button pButton color="primary" (click)="showAdd()">Add Nasabah</button>
    </div>

    <!-- konfirmasi button -->
    <p-confirmDialog #cd [style]="{width: '50vw'}">
        <ng-template pTemplate="footer">
            <button type="button" pButton icon="pi pi-check" label="OK" (click)="cd.accept()"></button>
        </ng-template>
    </p-confirmDialog>

    <!-- form untuk add dan edit nasabah -->
    <p-dialog header={{header}} [(visible)]="masterBankform" [style] = "{width : '50%'}" [draggable]="false" [dismissableMask]="false">
        <div>
            <hr>
            <div class="mt-4">
                <form [formGroup]="form" (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <div *ngIf="isEdit || isDelete">
                            <label>Nomor Rekening</label>
                            <input type="number" formControlName="norek" class="form-control"
                                [ngClass]="{'is-invalid':submitted && f['norek'].errors}">
                        </div>

                        <label>Nama Nasabah</label>
                        <input type="text" formControlName="nama" class="form-control"
                            [ngClass]="{'is-invalid':submitted && f['nama'].errors}" />
                        <div *ngIf="submitted && f['nama'].errors" class="invalid-feedback">
                            <div *ngIf="f['nama'].errors['required']">Nama Nasabah is required</div>
                        </div>

                        <label>User Id</label>
                        <input type="text" formControlName="userId" class="form-control"
                            [ngClass]="{'is-invalid':submitted && f['userId'].errors}" />

                        <label>Alamat</label>
                        <input type="text" formControlName="alamat" class="form-control"
                            [ngClass]="{'is-invalid':submitted && f['alamat'].errors}" />
                        <div *ngIf="submitted && f['alamat'].errors" class="invalid-feedback">
                            <div *ngIf="f['alamat'].errors['required']">Alamat Nasabah is required</div>
                        </div>

                        <label>Nomor Telepon</label>
                        <input type="number" formControlName="notlp" class="form-control"
                            [ngClass]="{'is-invalid':submitted && f['notlp'].errors}" />
                        <div *ngIf="submitted && f['notlp'].errors" class="invalid-feedback">
                            <div *ngIf="f['notlp'].errors['required']">Nomor Telepon Nasabah is required</div>
                        </div>

                        <label>Saldo</label>
                        <input type="number" formControlName="saldo" class="form-control"
                            [ngClass]="{'is-invalid':submitted && f['saldo'].errors}" />
                        <div *ngIf="submitted && f['saldo'].errors" class="invalid-feedback">
                            <div *ngIf="f['saldo'].errors['required']">Saldo Nasabah is required</div>
                        </div>

                    </div>

                    <!-- tombol di dalam form add dan edit -->
                    <div *ngIf="isEdit || isAdd" class="form-group mt-4" align="center">
                        <button pButton type="button" label="Submit" class="p-button-primary" (click)="onSubmit()"></button>&nbsp;
                        <button pButton type="button" label="Reset" class="p-button-warning"(click)="onReset()"></button>
                    </div>

                    <!-- tombol di dalam form delete -->
                    <div *ngIf="isDelete" class="form-group mt-4" align="center">
                        <button pButton type="submit" label="Delete" class="p-button-danger" (click)="onDelete()"></button>&nbsp;
                        <button pButton type="button" label="Reset" class="p-button-warning" (click)="onReset()"></button>                  
                    </div>
                </form>
            </div>
        </div>

        <!-- tampilan data master bank -->
    </p-dialog>
    <c-card class="mb-4">
        <c-card-header>
            <strong>Data Nasabah<span>({{ masterBank?.length}} data)</span></strong>
        </c-card-header>
        
        <!-- tabel yang ditampilkan -->
        <div class="tab-content rounded-bottom">
            <div class="tab-pane p-3 active preview table-responsive" role="tabpanel" id="preview-24">
                <p-table [value]="masterBank" [paginator]="true" [rows]="5" [rowsPerPageOptions]="[5,10,15,20]">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Nomor Rekening</th>
                            <th>Nama Nasabah</th>
                            <th>Alamat</th>
                            <th>Nomor Telepon</th>
                            <th>Saldo</th>
                            <th pSortableColumn="userId">User Id <p-sortIcon field="userId"></p-sortIcon></th>
                            <th>
                                Action
                            </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-masterBank>
                        <tr>
                            <td>{{masterBank.norek}}</td>
                            <td>{{masterBank.nama}}</td>
                            <td>{{masterBank.alamat}}</td>
                            <td>{{masterBank.notlp}}</td>
                            <td>{{masterBank.saldo  | currency:'Rp. ':'symbol':'3.2-2'}}</td>
                            <td>{{masterBank.userId}}</td>

                            <!-- button edit dan delete -->
                            <td class="row">
                                <button pButton pRipple type="button" icon="pi pi-pencil" class="p-button-rounded p-button-info p-button-text col"
                                (click)="showEdit(masterBank)"></button> &nbsp;
                                <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger p-button-text col"
                                (click)="showDelete(masterBank)"></button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>

        <c-card-body>