<!-- menambahkan button add data -->
<c-col xs="12">
    <div class="mb-4" style="text-align:right; margin:15px 15px 0px 15px;">
        <button pButton pRipple type="button" label="Add Hak menu" icon="pi pi-plus" (click)="showAdd()"></button>
    </div>

    <!-- button confirm ketika delete data -->
    <p-confirmDialog #cd [style]="{width: '50vw'}">
        <ng-template pTemplate="footer">
            <button *ngIf="isDelete" pButton pRipple type="button" icon="pi pi-times" label="No" class="p-button-text"
                (click)="cd.reject()"></button>
            <p-button type="button" icon="pi pi-check" label="Yes" styleClass="p-button-primary"
                (click)="cd.accept()"></p-button>
        </ng-template>
    </p-confirmDialog>

    <!-- show tabel -->
    <c-card class="mb-4">
        <c-card-header>
            <strong>Menu List <span>({{ menu?.length}} data)</span></strong>
        </c-card-header>

        <!-- section u show data tabel -->
        <c-card-body>
            <p-table [value]="menu" [paginator]="true" [rows]="10">
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="menuId" style="width: 20%">Menu ID <p-sortIcon field="menuId"></p-sortIcon>
                        </th>
                        <th>Nama</th>
                        <th>Icon</th>
                        <th>Url</th>
                        <th>Program Name</th>
                        <th>Created Date</th>
                        <th>Created By</th>
                        <th>Updated Date</th>
                        <th>Updated By</th>
                        <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-menu>
                    <tr>
                        <td>{{menu.menuId}}</td>
                        <td>{{menu.nama}}</td>
                        <td>{{menu.icon}}</td>
                        <td>{{menu.url}}</td>
                        <td>{{menu.nama}}</td>
                        <td>{{menu.createdDate}}</td>
                        <td>{{menu.createdBy}}</td>
                        <td>{{menu.updatedDate}}</td>
                        <td>{{menu.updatedBy}}</td>
                        <td>
                            <button pButton pRipple type="button" icon="pi pi-pencil"
                                class="p-button-rounded p-button-info p-button-text" (click)="showEdit(menu)"></button>
                            <button pButton pRipple type="button" icon="pi pi-trash"
                                class="p-button-rounded p-button-danger p-button-text"
                                (click)="showDelete(menu)"></button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </c-card-body>
    </c-card>
</c-col>

<!-- section show data tabel pada saat add dan edit   -->
<p-dialog header="Menu Form" [(visible)]="menuform" [responsive]="true" showEffect="fade" [modal]="true"
    [closable]="true" [dismissableMask]="true">
    <div>
        <hr>
        <div *ngIf="isEdit">
            <p style="text-align: center"><b>{{keteranganForm}}</b>
            </p>
            <hr />
        </div>
        <div class="p-grid p-fluid">
            <form [formGroup]="form" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <div class="row container">
                        <div class="col-md-5">
                            <label><b>Nama</b></label>
                        </div>
                        <div class="col-md-1"><b>:</b></div>
                        <div class="col-md-6">
                            <input type="text" formControlName="nama" pInputText [(ngModel)]="valNama"
                                [ngClass]="{'is-invalid': submitted && f['nama'].errors}" />
                            <div *ngIf="submitted && f['nama'].errors" class="invalid-feedback">
                                <div *ngIf="f['nama'].errors['required']">Nama is required</div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row container">
                        <div class="col-md-5">
                            <label><b>Icon</b></label>
                        </div>
                        <div class="col-md-1"><b>:</b></div>
                        <div class="col-md-6">
                            <input type="text" formControlName="icon" pInputText [(ngModel)]="valIcon"
                                [ngClass]="{'is-invalid': submitted && f['icon'].errors}" />
                            <div *ngIf="submitted && f['icon'].errors" class="invalid-feedback">
                                <div *ngIf="f['icon'].errors['required']">Icon is required</div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row container">
                        <div class="col-md-5">
                            <label><b>URL</b></label>
                        </div>
                        <div class="col-md-1"><b>:</b></div>
                        <div class="col-md-6">
                            <input type="text" formControlName="url" pInputText [(ngModel)]="valUrl"
                                [ngClass]="{'is-invalid': submitted && f['url'].errors}" />
                            <div *ngIf="submitted && f['url'].errors" class="invalid-feedback">
                                <div *ngIf="f['url'].errors['required']">URL is required</div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row container">
                        <div class="col-md-5">
                            <label><b>Program Name</b></label>
                        </div>
                        <div class="col-md-1"><b>:</b></div>
                        <div class="col-md-6">
                            <input type="text" formControlName="programName" pInputText [(ngModel)]="valProgramName"
                                [ngClass]="{'is-invalid': submitted && f['programName'].errors}" />
                        </div>
                    </div>
                    <div *ngIf="isEdit || isAdd" class="form-group mt-4" align="center">
                        <button pButton type="button" label="Submit" class="p-button-primary"
                            (click)="onSubmit()"></button>&nbsp;
                        <button *ngIf="isAdd" pButton type="button" label="Reset" class="p-button-warning"
                            (click)="onReset()"></button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</p-dialog>

<!--tampilkan pesan toast -->
<p-toast position="top-center"></p-toast>